<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta property="og:site_name" content="Chemputer Blog"><meta property="og:type" content="article"><meta property="og:image" content="https://chemistwang.github.io//img/home-bg.jpg"><meta property="twitter:image" content="https://chemistwang.github.io//img/home-bg.jpg"><meta name=title content="å‰ç«¯åŸºå»ºä¹‹ï¼ˆä¸€ï¼‰ä»£ç é£æ ¼å’Œæäº¤è§„èŒƒé…ç½®"><meta property="og:title" content="å‰ç«¯åŸºå»ºä¹‹ï¼ˆä¸€ï¼‰ä»£ç é£æ ¼å’Œæäº¤è§„èŒƒé…ç½®"><meta property="twitter:title" content="å‰ç«¯åŸºå»ºä¹‹ï¼ˆä¸€ï¼‰ä»£ç é£æ ¼å’Œæäº¤è§„èŒƒé…ç½®"><meta name=description content="Eslint Prettier Commitlint Husky"><meta property="og:description" content="Eslint Prettier Commitlint Husky"><meta property="twitter:description" content="Eslint Prettier Commitlint Husky"><meta property="twitter:card" content="summary"><meta name=keyword content="æ±ªæ´‹é¾™, wangyanglong, Wangyanglong, æ±ªæ´‹é¾™çš„åšå®¢, Wangyanglong Blog, åšå®¢, ä¸ªäººç½‘ç«™, äº’è”ç½‘, Web, Javascript, React"><link rel="shortcut icon" href=/img/favicon.ico><title>å‰ç«¯åŸºå»ºä¹‹ï¼ˆä¸€ï¼‰ä»£ç é£æ ¼å’Œæäº¤è§„èŒƒé…ç½® | æ±ªæ´‹é¾™çš„åšå®¢ | Wangyanglong Blog</title><link rel=canonical href=/post/infrastructure/code/><link rel=stylesheet href=/css/bootstrap.min.css><link rel=stylesheet href=/css/hugo-theme-cleanwhite.min.css><link rel=stylesheet href=/css/zanshang.css><link href=https://cdn.jsdelivr.net/gh/FortAwesome/Font-Awesome@5.15.1/css/all.css rel=stylesheet type=text/css><script src=/js/jquery.min.js></script>
<script src=/js/bootstrap.min.js></script>
<script src=/js/hux-blog.min.js></script></head><nav class="navbar navbar-default navbar-custom navbar-fixed-top"><div class=container-fluid><div class="navbar-header page-scroll"><button type=button class=navbar-toggle>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span>
<span class=icon-bar></span>
<span class=icon-bar></span></button>
<a class=navbar-brand href=/>Chemputer Blog</a></div><div id=huxblog_navbar><div class=navbar-collapse><ul class="nav navbar-nav navbar-right"><li><a href=/>All Posts</a></li><li><a href=/categories/es6>es6</a></li><li><a href=/categories/react>react</a></li><li><a href=/categories/tech>tech</a></li><li><a href=/archive/>ARCHIVE</a></li><li><a href=/notes/>NOTES</a></li><li><a href=/about/>ABOUT</a></li><li><a href=/search><i class="fa fa-search"></i></a></li></ul></div></div></div></nav><script>var $body=document.body,$toggle=document.querySelector(".navbar-toggle"),$navbar=document.querySelector("#huxblog_navbar"),$collapse=document.querySelector(".navbar-collapse");$toggle.addEventListener("click",handleMagic);function handleMagic(){$navbar.className.indexOf("in")>0?($navbar.className=" ",setTimeout(function(){$navbar.className.indexOf("in")<0&&($collapse.style.height="0px")},400)):($collapse.style.height="auto",$navbar.className+=" in")}</script><style type=text/css>header.intro-header{background-image:url(/img/coffee-bg.jpg)}</style><header class=intro-header><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=post-heading><div class=tags></div><h1>å‰ç«¯åŸºå»ºä¹‹ï¼ˆä¸€ï¼‰ä»£ç é£æ ¼å’Œæäº¤è§„èŒƒé…ç½®</h1><h2 class=subheading></h2><span class=meta>Posted by
æ±ªæ´‹é¾™
on
Tuesday, December 13, 2022</span></div></div></div></div></header><article><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2
col-md-10 col-md-offset-1
post-container"><h1 id=å‰ç«¯åŸºå»ºä¹‹ä¸€ä»£ç é£æ ¼å’Œæäº¤è§„èŒƒé…ç½®>å‰ç«¯åŸºå»ºä¹‹ï¼ˆä¸€ï¼‰ä»£ç é£æ ¼å’Œæäº¤è§„èŒƒé…ç½®</h1><h2 id=1-åˆå§‹åŒ–é¡¹ç›®>1. åˆå§‹åŒ–é¡¹ç›®</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>npx create-react-app demo-framework --template typescript
</span></span></code></pre></div><h2 id=2-é…ç½®-eslint>2. é…ç½® Eslint</h2><h3 id=21-vscode-å®‰è£…-eslint>2.1 <code>vscode</code> å®‰è£… <code>eslint</code></h3><h3 id=22-å®‰è£…ä¾èµ–>2.2 å®‰è£…ä¾èµ–</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>npm i eslint -D
</span></span></code></pre></div><h3 id=23-åˆå§‹åŒ–-eslint>2.3 åˆå§‹åŒ– eslint</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>npx eslint --init
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>You can also run this <span style=color:#8be9fd;font-style:italic>command</span> directly using <span style=color:#f1fa8c>&#39;npm init @eslint/config&#39;</span>.
</span></span><span style=display:flex><span>npx: installed <span style=color:#bd93f9>41</span> in 3.304s
</span></span><span style=display:flex><span>âœ” How would you like to use ESLint? Â· problems
</span></span><span style=display:flex><span>âœ” What <span style=color:#8be9fd;font-style:italic>type</span> of modules does your project use? Â· esm
</span></span><span style=display:flex><span>âœ” Which framework does your project use? Â· react
</span></span><span style=display:flex><span>âœ” Does your project use TypeScript? Â· No / Yes âœ”
</span></span><span style=display:flex><span>âœ” Where does your code run? Â· browser
</span></span><span style=display:flex><span>âœ” What format <span style=color:#ff79c6>do</span> you want your config file to be in? Â· JavaScript
</span></span><span style=display:flex><span>The config that you&#39;ve selected requires the following dependencies:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>eslint-plugin-react@latest @typescript-eslint/eslint-plugin@latest @typescript-eslint/parser@latest
</span></span><span style=display:flex><span>âœ” Would you like to install them now? Â· No âœ” / Yes
</span></span><span style=display:flex><span>A config file was generated, but the config file itself may not follow your linting rules.
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>module.exports <span style=color:#ff79c6>=</span> {
</span></span><span style=display:flex><span>  env<span style=color:#ff79c6>:</span> {
</span></span><span style=display:flex><span>    browser<span style=color:#ff79c6>:</span> <span style=color:#ff79c6>true</span>,
</span></span><span style=display:flex><span>    es2021<span style=color:#ff79c6>:</span> <span style=color:#ff79c6>true</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>extends</span><span style=color:#ff79c6>:</span> [
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#34;eslint:recommended&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#34;plugin:react/recommended&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#34;plugin:@typescript-eslint/recommended&#34;</span>,
</span></span><span style=display:flex><span>  ],
</span></span><span style=display:flex><span>  overrides<span style=color:#ff79c6>:</span> [],
</span></span><span style=display:flex><span>  parser<span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;@typescript-eslint/parser&#34;</span>,
</span></span><span style=display:flex><span>  parserOptions<span style=color:#ff79c6>:</span> {
</span></span><span style=display:flex><span>    ecmaVersion<span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;latest&#34;</span>,
</span></span><span style=display:flex><span>    sourceType<span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;module&#34;</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  plugins<span style=color:#ff79c6>:</span> [<span style=color:#f1fa8c>&#34;react&#34;</span>, <span style=color:#f1fa8c>&#34;@typescript-eslint&#34;</span>],
</span></span><span style=display:flex><span>  rules<span style=color:#ff79c6>:</span> {},
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h3 id=24-ç¤¾åŒºè§„èŒƒ>2.4 ç¤¾åŒºè§„èŒƒ</h3><p>ä¸‰ç§ç¤¾åŒºä¸»æµè§„èŒƒ</p><ul><li>Airbnb</li><li>Standard</li><li>Google</li></ul><p><a href=https://star-history.com/#google/eslint-config-google&standard/standard&airbnb/javascript&Date><img src="https://api.star-history.com/svg?repos=google/eslint-config-google,standard/standard,airbnb/javascript&type=Date" alt="Star History Chart"></a></p><h3 id=25-é…ç½®-airbnb-è§„èŒƒ>2.5 é…ç½® airbnb è§„èŒƒ</h3><ol><li>å®‰è£… <code>eslint-config-airbnb</code></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>npm i eslint-config-airbnb -D
</span></span></code></pre></div><ol start=2><li>åœ¨ <code>.eslintrc.js</code> é…ç½®è§„åˆ™</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#6272a4>//  .eslintrc.js
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>{
</span></span><span style=display:flex><span>    ...
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&#34;extends&#34;</span>: [
</span></span><span style=display:flex><span>        <span style=color:#f1fa8c>&#34;airbnb&#34;</span>,
</span></span><span style=display:flex><span>        ...
</span></span><span style=display:flex><span>    ]
</span></span><span style=display:flex><span>    ...
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=3><li><code>package.json</code> é…ç½® <code>script</code></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>...
</span></span><span style=display:flex><span>  <span style=color:#f1fa8c>&#34;scripts&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&#34;start&#34;</span>: <span style=color:#f1fa8c>&#34;react-scripts start&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&#34;build&#34;</span>: <span style=color:#f1fa8c>&#34;react-scripts build&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&#34;test&#34;</span>: <span style=color:#f1fa8c>&#34;react-scripts test&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&#34;eject&#34;</span>: <span style=color:#f1fa8c>&#34;react-scripts eject&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&#34;lint&#34;</span>: <span style=color:#f1fa8c>&#34;eslint src --ext .ts,.jsx,.tsx --fix --quiet&#34;</span>
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><ol start=4><li>ä¿®å¤è¿è¡Œé”™è¯¯</li></ol><ul><li><code>error Unable to resolve path to module './App' import/no-unresolved</code></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>npm i eslint-import-resolver-typescript -D
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#6272a4>// .eslintrc
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>...
</span></span><span style=display:flex><span>  rules<span style=color:#ff79c6>:</span> {},
</span></span><span style=display:flex><span>  settings<span style=color:#ff79c6>:</span> {
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#34;import/resolver&#34;</span><span style=color:#ff79c6>:</span> {
</span></span><span style=display:flex><span>      typescript<span style=color:#ff79c6>:</span> {
</span></span><span style=display:flex><span>        directory<span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;./tsconfig.json&#34;</span>,
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><ul><li><code>error Missing file extension for "./App" import/extensions</code></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#6272a4>// .eslintrc
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>...
</span></span><span style=display:flex><span>  rules<span style=color:#ff79c6>:</span> {
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#34;react/jsx-filename-extension&#34;</span><span style=color:#ff79c6>:</span> [
</span></span><span style=display:flex><span>      <span style=color:#bd93f9>2</span>,
</span></span><span style=display:flex><span>      {
</span></span><span style=display:flex><span>        extensions<span style=color:#ff79c6>:</span> [<span style=color:#f1fa8c>&#34;.js&#34;</span>, <span style=color:#f1fa8c>&#34;.jsx&#34;</span>, <span style=color:#f1fa8c>&#34;.ts&#34;</span>, <span style=color:#f1fa8c>&#34;.tsx&#34;</span>],
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>    ],
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><ul><li><code>error JSX not allowed in files with extension '.tsx' react/jsx-filename-extension</code></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#6272a4>// .eslintrc
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>  rules<span style=color:#ff79c6>:</span> {
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#34;import/extensions&#34;</span><span style=color:#ff79c6>:</span> [
</span></span><span style=display:flex><span>      <span style=color:#f1fa8c>&#34;error&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f1fa8c>&#34;ignorePackages&#34;</span>,
</span></span><span style=display:flex><span>      {
</span></span><span style=display:flex><span>        js<span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;never&#34;</span>,
</span></span><span style=display:flex><span>        jsx<span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;never&#34;</span>,
</span></span><span style=display:flex><span>        ts<span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;never&#34;</span>,
</span></span><span style=display:flex><span>        tsx<span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;never&#34;</span>,
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>    ],
</span></span><span style=display:flex><span>  },
</span></span></code></pre></div><ul><li><code>error Do not use a triple slash reference for react, use </code>import<code> style instead @typescript-eslint/triple-slash-reference</code></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#6272a4>// .eslintrc
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>  rules<span style=color:#ff79c6>:</span> {
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#34;@typescript-eslint/triple-slash-reference&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;warn&#34;</span>,
</span></span><span style=display:flex><span>  }
</span></span></code></pre></div><ul><li><code>'React' must be in scope when using JSX react/react-in-jsx-scope</code></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#6272a4>// .eslintrc
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>  rules<span style=color:#ff79c6>:</span> {
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#34;react/react-in-jsx-scope&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;off&#34;</span>,
</span></span><span style=display:flex><span>  }
</span></span></code></pre></div><h2 id=3-prettier>3. prettier</h2><p><a href=https://prettier.io/>Prettier å®˜ç½‘</a></p><h3 id=31-è·Ÿ-linters-åŒºåˆ«>3.1 è·Ÿ Linters åŒºåˆ«</h3><p><a href=https://www.prettier.cn/docs/comparison.html>Prettier vs. Linters</a></p><p><strong>In other words, use Prettier for formatting and linters for catching bugs!</strong></p><h3 id=32-vscode-å®‰è£…-prettier>3.2 <code>vscode</code> å®‰è£… <code>prettier</code></h3><ol><li><p><code>VsCode</code> å®‰è£… <code>Prettier - Code formatter</code></p></li><li><p>è®¾ç½®è‡ªåŠ¨ä¿å­˜</p></li></ol><p><img src=/post/infrastructure/images/vscode-autosave.png alt=è®¾ç½®è‡ªåŠ¨ä¿å­˜></p><ol start=3><li>ç¼–è¾‘å™¨çš„ <code>settings.json</code> çš„é…ç½®é¡¹</li></ol><p>ç‚¹å‡»ä¸Šå›¾ ğŸ‘† ä¸­çš„ <code>Edit in settings.json</code> è®¾ç½®</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>   <span style=color:#ff79c6>&#34;editor.defaultFormatter&#34;</span>: <span style=color:#f1fa8c>&#34;esbenp.prettier-vscode&#34;</span>,
</span></span><span style=display:flex><span>   ...
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=33-è§„åˆ™è®¾å®š>3.3. è§„åˆ™è®¾å®š</h3><table><thead><tr><th>æ ‡ç­¾å</th><th>å«ä¹‰</th><th>å±æ€§</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td>Print Width</td><td>è¡Œå®½åº¦</td><td><code>printWidth</code></td><td><code>80</code></td></tr><tr><td>Tab Width</td><td>Tab å®½åº¦</td><td><code>tabWidth</code></td><td><code>2</code></td></tr><tr><td>Tabs</td><td>æ˜¯å¦ä½¿ç”¨ Tab</td><td><code>useTabs</code></td><td><code>false</code></td></tr><tr><td>Semicolons</td><td>æ˜¯å¦å¥æœ«å¼€å¯åˆ†å·</td><td><code>semi</code></td><td><code>true</code></td></tr><tr><td>Quotes</td><td>æ˜¯å¦å¯ç”¨å•å¼•å·</td><td><code>singleQuote</code></td><td><code>false</code></td></tr><tr><td>Quote Props</td><td></td><td><code>quoteProps</code></td><td><code>as-needed</code></td></tr><tr><td>JSX Quotes</td><td>JSX æ˜¯å¦ç”¨å•å¼•å·</td><td><code>jsxSingleQuote</code></td><td><code>false</code></td></tr><tr><td>Trailing Commas</td><td>å°¾éƒ¨é€—å·</td><td><code>trailingComma</code></td><td><code>es5</code></td></tr><tr><td>Bracket Spacing</td><td>æ‹¬å·ç©ºæ ¼</td><td><code>bracketSpacing</code></td><td><code>true</code></td></tr><tr><td>Bracket Line</td><td>æ‹¬å·æ¢è¡Œ</td><td><code>bracketSameLine</code></td><td><code>false</code></td></tr><tr><td>Arrow Function Parentheses</td><td>å‰ªå¤´å‡½æ•°æ‹¬å·</td><td><code>arrowParens</code></td><td><code>always</code></td></tr><tr><td>Range</td><td>æ ¼å¼åŒ–èŒƒå›´</td><td><code>rangeStart</code> <code>rangeEnd</code></td><td></td></tr><tr><td>Parser</td><td>æŒ‡å®šè§£æå™¨</td><td><code>parser</code></td><td></td></tr><tr><td>File Path</td><td></td><td><code>filepath</code></td><td>``</td></tr><tr><td>Require Pragma</td><td></td><td><code>requirePragma</code></td><td><code>false</code></td></tr><tr><td>Insert Pragma</td><td></td><td><code>insertPragma</code></td><td><code>false</code></td></tr><tr><td>Prose Wrap</td><td></td><td><code>proseWrap</code></td><td><code>preserve</code></td></tr><tr><td>HTML Whitespace Sensitivity</td><td></td><td><code>htmlWhitespaceSensitivity</code></td><td><code>css</code></td></tr><tr><td>Vue files script and style tags indentation</td><td></td><td><code>vueIndentScriptAndStyle</code></td><td><code>false</code></td></tr><tr><td>End of Line</td><td></td><td><code>endOfLine</code></td><td><code>lf</code></td></tr><tr><td>Embedded Language Formatting</td><td></td><td><code>embeddedLanguageFormatting</code></td><td><code>auto</code></td></tr><tr><td>Single Attribute Per Line</td><td></td><td><code>singleAttributePerLine</code></td><td><code>false</code></td></tr></tbody></table><h3 id=34-æ¡ˆä¾‹>3.4 æ¡ˆä¾‹</h3><ul><li><a href=https://github.com/facebook/react/blob/main/.prettierrc.js>React</a></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#f1fa8c>&#34;use strict&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>const</span> { esNextPaths } <span style=color:#ff79c6>=</span> require(<span style=color:#f1fa8c>&#34;./scripts/shared/pathsByLanguageVersion&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>module.exports <span style=color:#ff79c6>=</span> {
</span></span><span style=display:flex><span>  bracketSpacing<span style=color:#ff79c6>:</span> <span style=color:#ff79c6>false</span>,
</span></span><span style=display:flex><span>  singleQuote<span style=color:#ff79c6>:</span> <span style=color:#ff79c6>true</span>,
</span></span><span style=display:flex><span>  jsxBracketSameLine<span style=color:#ff79c6>:</span> <span style=color:#ff79c6>true</span>,
</span></span><span style=display:flex><span>  trailingComma<span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;es5&#34;</span>,
</span></span><span style=display:flex><span>  printWidth<span style=color:#ff79c6>:</span> <span style=color:#bd93f9>80</span>,
</span></span><span style=display:flex><span>  parser<span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;babel&#34;</span>,
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  overrides<span style=color:#ff79c6>:</span> [
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      files<span style=color:#ff79c6>:</span> esNextPaths,
</span></span><span style=display:flex><span>      options<span style=color:#ff79c6>:</span> {
</span></span><span style=display:flex><span>        trailingComma<span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;all&#34;</span>,
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>  ],
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><ul><li><a href=https://github.com/ant-design/ant-design/blob/master/.prettierrc>Ant Design</a></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>&#34;singleQuote&#34;</span>: <span style=color:#ff79c6>true</span>,
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>&#34;trailingComma&#34;</span>: <span style=color:#f1fa8c>&#34;all&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>&#34;printWidth&#34;</span>: <span style=color:#bd93f9>100</span>,
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>&#34;proseWrap&#34;</span>: <span style=color:#f1fa8c>&#34;never&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>&#34;overrides&#34;</span>: [
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#ff79c6>&#34;files&#34;</span>: <span style=color:#f1fa8c>&#34;.prettierrc&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#ff79c6>&#34;options&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>&#34;parser&#34;</span>: <span style=color:#f1fa8c>&#34;json&#34;</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  ]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li><a href=https://github.com/angular/angular/blob/main/.prettierrc>Angular</a></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>&#34;printWidth&#34;</span>: <span style=color:#bd93f9>100</span>,
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>&#34;tabWidth&#34;</span>: <span style=color:#bd93f9>2</span>,
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>&#34;tabs&#34;</span>: <span style=color:#ff79c6>false</span>,
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>&#34;singleQuote&#34;</span>: <span style=color:#ff79c6>true</span>,
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>&#34;semicolon&#34;</span>: <span style=color:#ff79c6>true</span>,
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>&#34;quoteProps&#34;</span>: <span style=color:#f1fa8c>&#34;preserve&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>&#34;bracketSpacing&#34;</span>: <span style=color:#ff79c6>false</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li><a href=https://github.com/vuejs/vue/blob/main/.prettierrc>Vue</a></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>semi: <span style=color:#ff79c6>false</span>
</span></span><span style=display:flex><span>singleQuote: <span style=color:#ff79c6>true</span>
</span></span><span style=display:flex><span>printWidth: <span style=color:#bd93f9>80</span>
</span></span><span style=display:flex><span>trailingComma: &#39;none&#39;
</span></span><span style=display:flex><span>arrowParens: &#39;avoid&#39;
</span></span></code></pre></div><h3 id=35-é…ç½®-prettier>3.5 é…ç½® prettier</h3><ol><li>å®‰è£…</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>npm i prettier -D
</span></span></code></pre></div><ol start=2><li>æ ¹ç›®å½•åˆ›å»º <code>.prettierrc</code></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>&#34;printWidth&#34;</span>: <span style=color:#bd93f9>80</span>,
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>&#34;tabWidth&#34;</span>: <span style=color:#bd93f9>2</span>,
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>&#34;useTabs&#34;</span>: <span style=color:#ff79c6>false</span>,
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>&#34;semi&#34;</span>: <span style=color:#ff79c6>true</span>,
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>&#34;singleQuote&#34;</span>: <span style=color:#ff79c6>true</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=3><li><code>package.json</code> æ–°å¢å‘½ä»¤</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>...
</span></span><span style=display:flex><span><span style=color:#f1fa8c>&#34;scripts&#34;</span>: {
</span></span><span style=display:flex><span>    ...
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&#34;prettier&#34;</span>: <span style=color:#f1fa8c>&#34;prettier --write **/*.{js,jsx,ts,tsx,json}&#34;</span>
</span></span><span style=display:flex><span>    ...
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><h3 id=36-è§£å†³å’Œ-eslint-çš„å†²çª>3.6 è§£å†³å’Œ <code>eslint</code> çš„å†²çª</h3><p>å› ä¸º <code>eslint</code> ä¹Ÿå¯ä»¥åšé£æ ¼æ£€æŸ¥ï¼Œæ‰€ä»¥ä¼šè·Ÿ <code>prettier</code> å†²çª</p><blockquote><p>ä¾‹å¦‚ï¼šåœ¨ <code>prettier</code> ä¸­è®¾ç½® <code>"semi": false</code>ï¼Œåœ¨ <code>eslintrc</code> ä¸­è®¾ç½® <code>semi: 2</code>ã€‚ä¿å­˜æ–‡ä»¶ä¼šå–æ¶ˆåˆ†å·ï¼Œä½†æ˜¯ <code>npm run lint</code> ä¹‹ååˆä¼šæ–°å¢åˆ†å·ã€‚</p></blockquote><ol><li>å°† <code>prettier</code> é›†æˆåˆ° <code>eslint</code> ä¸­</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>npm i eslint-config-prettier -D <span style=color:#6272a4># å…³é—­å¯èƒ½ä¸prettierå†²çªçš„è§„åˆ™</span>
</span></span><span style=display:flex><span>npm i eslint-plugin-prettier -D <span style=color:#6272a4># ä½¿ç”¨prettierä»£æ›¿eslintæ ¼å¼åŒ–</span>
</span></span></code></pre></div><ol start=2><li>è®¾ç½® <code>prettier</code> ä¸ºé»˜è®¤æ ¼å¼åŒ–å¹¶è®¾ç½®ä¿å­˜æ—¶ç”Ÿæ•ˆ</li></ol><p>åœ¨ <code>.eslintrc</code> ä¸­é…ç½® <code>prettier</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>...
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>extends</span><span style=color:#ff79c6>:</span> [
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#39;airbnb&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#39;eslint:recommended&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#39;plugin:react/recommended&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#39;plugin:@typescript-eslint/recommended&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#39;prettier&#39;</span>
</span></span><span style=display:flex><span>  ],
</span></span><span style=display:flex><span>  ...
</span></span></code></pre></div><h2 id=4-é…ç½®-stylelint>4. é…ç½® StyleLint</h2><h3 id=41-vscode-å®‰è£…-stylelint-æ’ä»¶>4.1 vscode å®‰è£… Stylelint æ’ä»¶</h3><h3 id=42-å®‰è£…ä¾èµ–>4.2 å®‰è£…ä¾èµ–</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>npm install --save-dev stylelint stylelint-config-standard
</span></span></code></pre></div><h3 id=43-æ ¹ç›®å½•åˆ›å»º-stylelintrc>4.3 æ ¹ç›®å½•åˆ›å»º <code>.stylelintrc</code></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#6272a4>// .stylelintrc
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>{
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>&#34;extends&#34;</span>: <span style=color:#f1fa8c>&#34;stylelint-config-standard&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=44-è§£å†³ä¸-prettier-é…ç½®çš„å†²çª>4.4 è§£å†³ä¸ <code>prettier</code> é…ç½®çš„å†²çª</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>npm install --save-dev stylelint-config-prettier
</span></span></code></pre></div><h3 id=45-ä¿®æ”¹-stylelintrc>4.5 ä¿®æ”¹ <code>stylelintrc</code></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#6272a4>// .stylelintrc
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>{
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>&#34;extends&#34;</span>: [<span style=color:#f1fa8c>&#34;stylelint-config-standard&#34;</span>, <span style=color:#f1fa8c>&#34;stylelint-config-prettier&#34;</span>]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=46-åœ¨-git-commit-é˜¶æ®µæ£€æµ‹>4.6 åœ¨ git commit é˜¶æ®µæ£€æµ‹</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>...
</span></span><span style=display:flex><span> <span style=color:#f1fa8c>&#34;scripts&#34;</span>: {
</span></span><span style=display:flex><span>    ...
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&#34;lint:style&#34;</span>: <span style=color:#f1fa8c>&#34;stylelint src/**/*.less&#34;</span>,
</span></span><span style=display:flex><span>    ...
</span></span><span style=display:flex><span> },
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><h2 id=5-é…ç½®åˆ«å>5. é…ç½®åˆ«å</h2><h3 id=51-cracocraco>5.1 <code>@craco/craco</code></h3><p>å®‰è£…</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>npm i -D @craco/craco
</span></span></code></pre></div><p>æ ¹ç›®å½•æ–°å»º <code>craco.config.js</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#ff79c6>const</span> path <span style=color:#ff79c6>=</span> require(<span style=color:#f1fa8c>&#34;path&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>const</span> pathResolve <span style=color:#ff79c6>=</span> (pathUrl) =&gt; path.join(__dirname, pathUrl);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>module.exports <span style=color:#ff79c6>=</span> {
</span></span><span style=display:flex><span>  webpack<span style=color:#ff79c6>:</span> {
</span></span><span style=display:flex><span>    alias<span style=color:#ff79c6>:</span> {
</span></span><span style=display:flex><span>      <span style=color:#f1fa8c>&#34;@&#34;</span><span style=color:#ff79c6>:</span> pathResolve(<span style=color:#f1fa8c>&#34;src&#34;</span>),
</span></span><span style=display:flex><span>      <span style=color:#f1fa8c>&#34;@assets&#34;</span><span style=color:#ff79c6>:</span> pathResolve(<span style=color:#f1fa8c>&#34;src/assets&#34;</span>),
</span></span><span style=display:flex><span>      <span style=color:#f1fa8c>&#34;@components&#34;</span><span style=color:#ff79c6>:</span> pathResolve(<span style=color:#f1fa8c>&#34;src/components&#34;</span>),
</span></span><span style=display:flex><span>      <span style=color:#f1fa8c>&#34;@utils&#34;</span><span style=color:#ff79c6>:</span> pathResolve(<span style=color:#f1fa8c>&#34;src/utils&#34;</span>),
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><p>ä¿®æ”¹ <code>tsconfig.json</code> é…ç½®æ–‡ä»¶</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>&#34;compilerOptions&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&#34;baseUrl&#34;</span>: <span style=color:#f1fa8c>&#34;src&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&#34;paths&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#ff79c6>&#34;@utils/*&#34;</span>: [<span style=color:#f1fa8c>&#34;utils/*&#34;</span>]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#6272a4>//   ...
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>}
</span></span></code></pre></div><p>ä¿®æ”¹ <code>package.json</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>...
</span></span><span style=display:flex><span>  <span style=color:#f1fa8c>&#34;scripts&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&#34;start&#34;</span>: <span style=color:#f1fa8c>&#34;craco start&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&#34;build&#34;</span>: <span style=color:#f1fa8c>&#34;craco build&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&#34;test&#34;</span>: <span style=color:#f1fa8c>&#34;craco test&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&#34;eject&#34;</span>: <span style=color:#f1fa8c>&#34;craco eject&#34;</span>
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><h3 id=52-webpack>5.2 <code>webpack</code></h3><p>æš´éœ² <code>webpack</code> é…ç½®</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>npm run eject
</span></span></code></pre></div><p>ä¿®æ”¹ <code>config/webpack/webpack.config.js</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>...
</span></span><span style=display:flex><span>    alias<span style=color:#ff79c6>:</span> {
</span></span><span style=display:flex><span>    <span style=color:#6272a4>// Support React Native Web
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>    <span style=color:#6272a4>// https://www.smashingmagazine.com/2016/08/a-glimpse-into-the-future-with-react-native-for-web/
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>    <span style=color:#f1fa8c>&#34;react-native&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;react-native-web&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#6272a4>// Allows for better profiling with ReactDevTools
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>    ...(isEnvProductionProfile <span style=color:#ff79c6>&amp;&amp;</span> {
</span></span><span style=display:flex><span>        <span style=color:#f1fa8c>&#34;react-dom$&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;react-dom/profiling&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f1fa8c>&#34;scheduler/tracing&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;scheduler/tracing-profiling&#34;</span>,
</span></span><span style=display:flex><span>    }),
</span></span><span style=display:flex><span>    ...(modules.webpackAliases <span style=color:#ff79c6>||</span> {}),
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#34;@utils&#34;</span><span style=color:#ff79c6>:</span> path.resolve(__dirname, <span style=color:#f1fa8c>&#34;../src/utils&#34;</span>),
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><p>ä¿®æ”¹ <code>tsconfig.json</code> é…ç½®æ–‡ä»¶</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>&#34;compilerOptions&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&#34;baseUrl&#34;</span>: <span style=color:#f1fa8c>&#34;src&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&#34;paths&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#ff79c6>&#34;@utils/*&#34;</span>: [<span style=color:#f1fa8c>&#34;utils/*&#34;</span>]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#6272a4>//   ...
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>}
</span></span></code></pre></div><h2 id=6-husky>6. Husky</h2><p>ç”¨ <code>git hooks</code> è‡ªåŠ¨åŒ–æ ¡éªŒ</p><h3 id=61-å®‰è£…-husky>6.1 å®‰è£… husky</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>npm i husky -D
</span></span></code></pre></div><h3 id=62-åˆå§‹åŒ–-husky>6.2 åˆå§‹åŒ– husky</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>npx husky install
</span></span></code></pre></div><h3 id=63-å¯ç”¨-husky>6.3 å¯ç”¨ husky</h3><p>æˆ‘ä»¬éœ€è¦åœ¨æ¯æ¬¡æ‰§è¡Œ <code>npm install</code> æ—¶è‡ªåŠ¨å¯ç”¨ <code>husky</code></p><p>ä¿®æ”¹ <code>package.json</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>  <span style=color:#f1fa8c>&#34;scripts&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&#34;prepare&#34;</span>: <span style=color:#f1fa8c>&#34;husky install&#34;</span>
</span></span><span style=display:flex><span>  },
</span></span></code></pre></div><h3 id=64-æ·»åŠ -lint-é’©å­>6.4 æ·»åŠ  lint é’©å­</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>npx husky add .husky/pre-commit <span style=color:#f1fa8c>&#34;npm run lint&#34;</span>
</span></span></code></pre></div><h3 id=65-æ·»åŠ -lint-staged>6.5 æ·»åŠ  lint-staged</h3><p>ç”¨æ¥å¯¹ <code>æš‚å­˜åŒº</code> çš„æ–‡ä»¶è¿›è¡Œæ£€æµ‹ï¼Œç”¨ä¸å…¨é‡æ£€æŸ¥</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>npm install --save-dev lint-staged
</span></span></code></pre></div><p>ä¿®æ”¹ <code>.husky/pre-commit</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#ff79c6>#!/usr/bin/env sh
</span></span></span><span style=display:flex><span><span style=color:#ff79c6></span>. <span style=color:#f1fa8c>&#34;</span><span style=color:#ff79c6>$(</span>dirname -- <span style=color:#f1fa8c>&#34;</span><span style=color:#8be9fd;font-style:italic>$0</span><span style=color:#f1fa8c>&#34;</span><span style=color:#ff79c6>)</span><span style=color:#f1fa8c>/_/husky.sh&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4># npm run lint</span>
</span></span><span style=display:flex><span>npx lint-staged
</span></span></code></pre></div><p>ä¿®æ”¹ <code>package.json</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>...
</span></span><span style=display:flex><span>  <span style=color:#f1fa8c>&#34;scripts&#34;</span>: {
</span></span><span style=display:flex><span>    ...
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  <span style=color:#f1fa8c>&#34;lint-staged&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&#34;**/*.{jsx,ts,tsx}&#34;</span>: <span style=color:#f1fa8c>&#34;npm run lint&#34;</span>
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  <span style=color:#6272a4>//  &#34;lint-staged&#34;: {
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>  <span style=color:#6272a4>//   &#34;**/*&#34;: &#34;prettier --write --ignore-unknown&#34;, //æ ¼å¼åŒ–
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>  <span style=color:#6272a4>//   &#34;src/**.{js,jsx,ts,tsx}&#34;: &#34;eslint --ext .js,.jsx,.ts,.tsx&#34;, //å¯¹jsæ–‡ä»¶æ£€æµ‹
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>  <span style=color:#6272a4>//   &#34;**/*.{less,css}&#34;: &#34;stylelint --fix&#34;, //å¯¹cssæ–‡ä»¶è¿›è¡Œæ£€æµ‹
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>  <span style=color:#6272a4>//   &#34;**/*.{jsx,ts,tsx}&#34;: &#34;npm run lint&#34;,
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>  <span style=color:#6272a4>//   &#34;**/*.{less,css}&#34;: &#34;npm run lint:style&#34;
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>  <span style=color:#6272a4>// },
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>...
</span></span></code></pre></div><h2 id=7-commitlint>7. Commitlint</h2><p>çº¦å®š <code>commit</code> ä¿¡æ¯</p><h3 id=71-å®‰è£…>7.1 å®‰è£…</h3><ul><li><a href=https://commitlint.js.org/#/>@commitlint/cli</a> <code>commitlint</code> å‘½ä»¤è¡Œå·¥å…·</li><li><a href=https://www.npmjs.com/package/@commitlint/config-conventional>@commitlint/config-conventional</a> åŸºäº <code>Angular</code> çš„çº¦å®šè§„èŒƒ</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>npm i @commitlint/cli @commitlint/config-conventional -D
</span></span></code></pre></div><h3 id=72-åˆ›å»º-commitlintrcå†™å…¥é…ç½®>7.2. åˆ›å»º <code>.commitlintrc</code>ï¼Œå†™å…¥é…ç½®</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>&#34;extends&#34;</span>: [<span style=color:#f1fa8c>&#34;@commitlint/config-conventional&#34;</span>]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=73-é›†æˆ-husky-ä¸­>7.3. é›†æˆ <code>husky</code> ä¸­</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>npx husky add .husky/commit-msg <span style=color:#f1fa8c>&#39;npx --no-install commitlint --edit &#34;$1&#34;&#39;</span>
</span></span></code></pre></div><ul><li><code>feat</code>: æ–°åŠŸèƒ½</li><li><code>fix</code>: ä¿®è¡¥ BUG</li><li><code>docs</code>: ä¿®æ”¹æ–‡æ¡£ï¼Œegï¼šREADMEï¼ŒCHANGELOGï¼ŒCONTRIBUTE ç­‰</li><li><code>style</code>: ä¸æ”¹å˜ä»£ç é€»è¾‘ï¼ˆä»…ä»…ä¿®æ”¹ç©ºæ ¼ã€æ ¼å¼ç¼©è¿›ã€é€—å·ç­‰ï¼‰</li><li><code>refactor</code>: é‡æ„ï¼ˆæ—¢ä¸ä¿®å¤é”™è¯¯ä¹Ÿä¸æ·»åŠ åŠŸèƒ½ï¼‰</li><li><code>perf</code>ï¼šä¼˜åŒ–ç›¸å…³ï¼Œæ¯”å¦‚æå‡æ€§èƒ½ã€ä½“éªŒ</li><li><code>test</code>ï¼šå¢åŠ æµ‹è¯•ï¼ŒåŒ…æ‹¬å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ç­‰</li><li><code>build</code>ï¼šæ„å»ºç³»ç»Ÿæˆ–å¤–éƒ¨ä¾èµ–é¡¹çš„æ›´æ”¹</li><li><code>ci</code>ï¼šè‡ªåŠ¨åŒ–æµç¨‹é…ç½®æˆ–è„šæœ¬ä¿®æ”¹</li><li><code>chore</code>ï¼šé src å’Œ test çš„ä¿®æ”¹ï¼Œå‘å¸ƒç‰ˆæœ¬ç­‰</li><li><code>revert</code>ï¼šæ¢å¤å…ˆå‰çš„æäº¤</li></ul><h2 id=8-semantic-release>8. Semantic Release</h2><hr><ul class=pager><li class=previous><a href=/post/vim/ data-toggle=tooltip data-placement=top title=æˆ‘çš„vimä¹ æƒ¯>&larr;
Previous Post</a></li><li class=next><a href=/post/infrastructure/convention/ data-toggle=tooltip data-placement=top title=å‰ç«¯åŸºå»ºä¹‹ï¼ˆäºŒï¼‰é¡¹ç›®çº¦å®š>Next
Post &rarr;</a></li></ul></div><div class="col-lg-2 col-lg-offset-0
visible-lg-block
sidebar-container
catalog-container"><div class=side-catalog><hr class="hidden-sm hidden-xs"><h5><a class=catalog-toggle href=#>CATALOG</a></h5><ul class=catalog-body></ul></div></div><div class="col-lg-8 col-lg-offset-2
col-md-10 col-md-offset-1
sidebar-container"><section><hr class="hidden-sm hidden-xs"><h5><a href=/tags/>FEATURED TAGS</a></h5><div class=tags><a href=/tags/qiankun title=qiankun>qiankun</a>
<a href=/tags/raspberrypi title=raspberrypi>raspberrypi</a>
<a href=/tags/ts title=ts>ts</a>
<a href=/tags/%E8%AF%91%E6%96%87 title=è¯‘æ–‡>è¯‘æ–‡</a></div></section></div></div></div></article><footer><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center"><li><a target=_blank href=https://github.com/chemistwang><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-github fa-stack-1x fa-inverse"></i></span></a></li><li><a href rel=alternate type=application/rss+xml title="Chemputer Blog"><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-rss fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="copyright text-muted">Copyright &copy; Chemputer Blog 2023<br><a href=https://themes.gohugo.io/hugo-theme-cleanwhite>CleanWhite Hugo Theme</a> by <a href=https://zhaohuabing.com>Huabing</a> |
<iframe style=margin-left:2px;margin-bottom:-5px frameborder=0 scrolling=0 width=100px height=20px src="https://ghbtns.com/github-btn.html?user=zhaohuabing&repo=hugo-theme-cleanwhite&type=star&count=true"></iframe></p></div></div></div></footer><script>function loadAsync(e,t){var s=document,o="script",n=s.createElement(o),i=s.getElementsByTagName(o)[0];n.src=e,t&&n.addEventListener("load",function(e){t(null,e)},!1),i.parentNode.insertBefore(n,i)}</script><script>$("#tag_cloud").length!==0&&loadAsync("/js/jquery.tagcloud.js",function(){$.fn.tagcloud.defaults={color:{start:"#bbbbee",end:"#0085a1"}},$("#tag_cloud a").tagcloud()})</script><script>loadAsync("https://cdn.jsdelivr.net/npm/fastclick@1.0.6/lib/fastclick.min.js",function(){var e=document.querySelector("nav");e&&FastClick.attach(e)})</script><script type=text/javascript>function generateCatalog(e){_containerSelector="div.post-container";var t,n,s,o,i,a=$(_containerSelector),r=a.find("h1,h2,h3,h4,h5,h6");return $(e).html(""),r.each(function(){t=$(this).prop("tagName").toLowerCase(),o="#"+$(this).prop("id"),n=$(this).text(),i=$('<a href="'+o+'" rel="nofollow">'+n+"</a>"),s=$('<li class="'+t+'_nav"></li>').append(i),$(e).append(s)}),!0}generateCatalog(".catalog-body"),$(".catalog-toggle").click(function(e){e.preventDefault(),$(".side-catalog").toggleClass("fold")}),loadAsync("/js/jquery.nav.js",function(){$(".catalog-body").onePageNav({currentClass:"active",changeHash:!1,easing:"swing",filter:"",scrollSpeed:700,scrollOffset:0,scrollThreshold:.2,begin:null,end:null,scrollChange:null,padding:80})})</script></body></html>